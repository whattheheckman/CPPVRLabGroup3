[gd_scene load_steps=16 format=3 uid="uid://dvofp5g3xqf3p"]

[ext_resource type="Script" path="res://level/level.gd" id="1"]
[ext_resource type="PackedScene" path="res://level/geometry/scenes/props.tscn" id="2"]
[ext_resource type="VoxelGIData" path="res://level/geometry/giprobe_data.res" id="5"]
[ext_resource type="PackedScene" path="res://player/player.tscn" id="6"]
[ext_resource type="PackedScene" uid="uid://boq0c6anxfu8v" path="res://enemies/red_robot/red_robot.tscn" id="7"]
[ext_resource type="AudioStream" uid="uid://dbs43vq7uv67e" path="res://level/level_music.ogg" id="8"]
[ext_resource type="Script" path="res://level/debug.gd" id="9"]
[ext_resource type="PackedScene" path="res://level/forklift/flying_forklift.tscn" id="12"]
[ext_resource type="PackedScene" path="res://level/geometry/scenes/lights.tscn" id="13"]
[ext_resource type="PackedScene" path="res://level/geometry/scenes/core.tscn" id="14"]
[ext_resource type="PackedScene" path="res://level/geometry/scenes/structure.tscn" id="15"]
[ext_resource type="Environment" uid="uid://ccgec5iv0lu28" path="res://level/geometry/environment.tres" id="16"]

[sub_resource type="CapsuleShape3D" id="1"]
radius = 39.0126
height = 78.0251

[sub_resource type="Animation" id="2"]
resource_name = "mawaru"
length = 30.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 30),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, -360, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_qmudd"]
_data = {
"mawaru": SubResource("2")
}

[node name="Level" type="Node3D"]
script = ExtResource("1")

[node name="Core" parent="." instance=ExtResource("14")]

[node name="CPUParticles3D" parent="Core/Plasma" index="1"]
emission_points = PackedVector3Array()
emission_normals = PackedVector3Array()

[node name="Structure" parent="." instance=ExtResource("15")]

[node name="Props" parent="." instance=ExtResource("2")]

[node name="Lights" parent="." instance=ExtResource("13")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("16")

[node name="VoxelGI" type="VoxelGI" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.09263, 1.28266, 2.88598)
subdiv = 2
size = Vector3(113.946, 48.8048, 117.028)
data = ExtResource("5")

[node name="ReflectionProbes" type="Node3D" parent="."]
visible = false

[node name="ReflectionProbe1" type="ReflectionProbe" parent="ReflectionProbes"]
transform = Transform3D(0.494055, 0, -0.869431, 0, 1, 0, 0.869431, 0, 0.494055, 28.1433, -18.8082, 71.0693)
size = Vector3(37.3556, 50, 83.0437)
box_projection = true

[node name="ReflectionProbe2" type="ReflectionProbe" parent="ReflectionProbes"]
transform = Transform3D(0.999799, 0, -0.0200534, 0, 1, 0, 0.0200534, 0, 0.999799, 73.9972, 0, -12.2086)
size = Vector3(35.8169, 50, 64.5769)
box_projection = true

[node name="ReflectionProbe3" type="ReflectionProbe" parent="ReflectionProbes"]
transform = Transform3D(0.999799, 0, -0.0200534, 0, 1, 0, 0.0200534, 0, 0.999799, -0.392717, -7.57649, 0.0575469)
size = Vector3(38.9134, 50, 37.1232)
box_projection = true

[node name="Player" parent="." instance=ExtResource("6")]
transform = Transform3D(-0.575826, 0, -0.817573, 0, 1, 0, 0.817573, 0, -0.575826, 64.8183, -1.0765, 78.7639)

[node name="RedRobot1" parent="." instance=ExtResource("7")]
transform = Transform3D(0.843905, 0, -0.536493, 0, 1, 0, 0.536493, 0, 0.843905, 71.5907, -6.05686, 46.2736)

[node name="RedRobot2" parent="." instance=ExtResource("7")]
transform = Transform3D(0.338334, 0, 0.941027, 0, 1, 0, -0.941027, 0, 0.338334, 53.2126, -6.05686, 15.9321)

[node name="RedRobot3" parent="." instance=ExtResource("7")]
transform = Transform3D(-0.164432, 0, 0.986389, 0, 1, 0, -0.986389, 0, -0.164432, -2.96096, -11.6923, 20.2343)

[node name="RedRobot4" parent="." instance=ExtResource("7")]
transform = Transform3D(-0.164432, 0, 0.986389, 0, 1, 0, -0.986389, 0, -0.164432, -9.15526, -11.6923, -16.9238)

[node name="Music" type="AudioStreamPlayer" parent="."]
stream = ExtResource("8")
autoplay = true

[node name="SoundOutside" type="Area3D" parent="."]
collision_mask = 0
audio_bus_override = true
audio_bus_name = &"Outside"

[node name="CollisionPolygon3D" type="CollisionPolygon3D" parent="SoundOutside"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
depth = 100.0
polygon = PackedVector2Array(-75.798, 98.0935, -18.4854, 34.621, -6.1658, 39.1739, 6.95718, 39.4417, 23.0262, 32.7463, 36.9526, 17.7486, 31.5629, 13.7491, 33.7076, 6.64486, 40.9698, 3.55431, 36.417, -21.6204, 26.5078, -30.1905, 93.7297, -71.4343, 118.637, 0.608329, 70.4297, 120.322, -36.9647, 128.089)

[node name="SoundReactorRoom" type="Area3D" parent="."]
collision_mask = 0
audio_bus_override = true
audio_bus_name = &"Reactor"

[node name="CollisionShape3D" type="CollisionShape3D" parent="SoundReactorRoom"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0)
shape = SubResource("1")

[node name="FlyingForklifts" type="Node3D" parent="."]

[node name="FlyingForklift1" parent="FlyingForklifts" instance=ExtResource("12")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 67.8049, 2.27771, 0)

[node name="FlyingForklift2" parent="FlyingForklifts" instance=ExtResource("12")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, -68.2496, 2.27771, 0)

[node name="AnimationPlayer" type="AnimationPlayer" parent="FlyingForklifts"]
autoplay = "mawaru"
libraries = {
"": SubResource("AnimationLibrary_qmudd")
}

[node name="Debug" type="Label" parent="."]
visible = false
offset_left = 10.0
offset_top = 10.0
offset_right = 40.0
offset_bottom = 14.0
text = "FPS: 0
VSync:
Memory:"
script = ExtResource("9")

[node name="Occluders" type="Node3D" parent="."]
visible = false

[node name="StartWall" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.137929, 0, 0.990442, 0, 1, 0, -0.990442, 0, 0.137929, -6.13814, 0, 82.9737)

[node name="StartWall2" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.137929, 0, 0.990442, 0, 1, 0, -0.990442, 0, 0.137929, -6.13814, 0, 82.9737)

[node name="CatwalkSide" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(-0.314992, 0.0944954, 0.944378, 0.0257674, 0.995516, -0.0910177, -0.948745, -0.00433563, -0.316014, 30.4378, 22.7756, 78.2315)

[node name="CatwalkSide2" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(-0.314444, -0.0875491, 0.94523, -0.0317649, 0.996151, 0.0816984, -0.948745, -0.00433563, -0.316014, 17.8758, 21.6611, 81.1039)

[node name="Catwalk" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.9958, -0.0175599, 0.0898516, 0.0257674, 0.995516, -0.0910177, -0.0878505, 0.0929507, 0.991788, 30.694, 4.174, 94.217)

[node name="Catwalk2" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.891993, 0.0182083, 0.451682, 0.0257674, 0.995516, -0.0910177, -0.451314, 0.0928258, 0.887524, 54.285, 4.474, 80.784)

[node name="Catwalk3" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.684897, 0.0487412, 0.727008, 0.0257674, 0.995516, -0.0910177, -0.728185, 0.0810708, 0.680569, 74.377, 3.922, 62.131)

[node name="Catwalk4" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.441835, 0.0703308, 0.894335, 0.0257674, 0.995516, -0.0910177, -0.896726, 0.0632595, 0.438041, 90.5234, 3.92189, 35.7929)

[node name="Catwalk5" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.135573, 0.0867267, 0.986964, 0.0257674, 0.995516, -0.0910177, -0.990432, 0.0377711, 0.13273, 95.945, 3.922, 11.291)

[node name="CatwalkFloor" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.234938, -0.972008, 0.00183225, 0, 0.00188501, 0.999998, -0.97201, -0.234938, 0.000442862, 68.108, -1.29, 38.413)

[node name="CatwalkFloor2" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.234938, -0.972008, 0.00183225, 0, 0.00188501, 0.999998, -0.97201, -0.234938, 0.000442862, 68.108, -1.239, 38.413)

[node name="CatwalkFloor3" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.234938, -0.972008, 0.00183225, 0, 0.00188501, 0.999998, -0.97201, -0.234938, 0.000442862, 68.108, -1.323, 38.413)

[node name="CatwalkFloor4" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.234938, -0.972008, 0.00183225, 0, 0.00188501, 0.999998, -0.97201, -0.234938, 0.000442862, 68.108, -1.351, 38.413)

[node name="Pillar1" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.997267, 0, 0.0738822, 0, 1, 0, -0.0738822, 0, 0.997267, -8.7376, 0, 78.6762)

[node name="Pillar2" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.963798, 0, 0.266633, 0, 1, 0, -0.266633, 0, 0.963798, 6.495, 0, 77.9881)

[node name="Pillar3" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.963798, 0, 0.266633, 0, 1, 0, -0.266633, 0, 0.963798, 21.1871, 0, 74.0353)

[node name="Pillar4" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.75884, 0, 0.651278, 0, 1, 0, -0.651278, 0, 0.75884, 36.5499, -1.43051e-06, 70.1613)

[node name="Pillar5" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.706428, 0, 0.707785, 0, 1, 0, -0.707785, 0, 0.706428, 48.5048, -1.43051e-06, 60.7618)

[node name="Pillar6" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.52098, 0, 0.853569, 0, 1, 0, -0.853569, 0, 0.52098, 59.6665, -9.53674e-07, 50.3136)

[node name="Pillar7" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.466896, 0, 0.884312, 0, 1, 0, -0.884312, 0, 0.466896, 68.1164, -9.53674e-07, 37.8245)

[node name="Pillar8" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.466896, 0, 0.884312, 0, 1, 0, -0.884312, 0, 0.466896, 72.6177, -7.15256e-07, 23.0652)

[node name="RoadEndBox" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 83.3859, -2.80453, 10.5797)

[node name="Bridge" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(1, 0, 0, 0, 0.00188501, 0.999998, 0, -0.999998, 0.00188501, 83.386, -6.495, 10.58)

[node name="RoadFloor" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.234938, -0.972008, 0.00183225, 0, 0.00188501, 0.999998, -0.97201, -0.234938, 0.000442862, 61.616, -6.397, 38.413)

[node name="RoadFloorEnd" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.234938, -0.972008, 0.00183225, 0, 0.00188501, 0.999998, -0.97201, -0.234938, 0.000442862, 61.616, -6.377, 38.413)

[node name="RoadFloor2" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.234938, -0.972008, 0.00183225, 0, 0.00188501, 0.999998, -0.97201, -0.234938, 0.000442862, 61.616, -6.425, 38.413)

[node name="RoadFloor3" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.234938, -0.972008, 0.00183225, 0, 0.00188501, 0.999998, -0.97201, -0.234938, 0.000442862, 61.616, -6.509, 38.413)

[node name="RoadFloor4" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.234938, -0.972008, 0.00183225, 0, 0.00188501, 0.999998, -0.97201, -0.234938, 0.000442862, 61.616, -6.504, 38.413)

[node name="ReactorWallEntrance" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.258819, 0, 0.965926, 0, 1, 0, -0.965926, 0, 0.258819, 39.3853, 4.5407, 10.5915)

[node name="ReactorWall2" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.836075, 0, 0.548614, 0, 1, 0, -0.548614, 0, 0.836075, 24.1965, 4.5407, 31.3743)

[node name="ReactorWall3" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.98069, 0, -0.19557, 0, 1, 0, 0.195569, 0, 0.980689, -7.74816, 4.5407, 37.1377)

[node name="ReactorWall4" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(0.432935, 0, -0.901425, 0, 1, 0, 0.901425, 0, 0.432935, -36.7226, 4.5407, 16.0138)

[node name="ReactorWall5" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(-0.327647, 0, -0.9448, 0, 1, 0, 0.9448, 0, -0.327646, -37.9558, 4.54071, -18.2412)

[node name="ReactorWall6" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(-0.938463, 0, -0.34538, 0, 1, 0, 0.34538, 0, -0.938462, -15.4656, 4.54071, -44.5487)

[node name="ReactorWall7" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(-0.698815, 0, 0.715302, 0, 1, 0, -0.715302, 0, -0.698815, 20.3358, 4.54071, -38.957)

[node name="ReactorWall8" type="OccluderInstance3D" parent="Occluders"]
transform = Transform3D(-0.267642, 0, 0.963518, 0, 1, 0, -0.963518, 0, -0.267642, 35.8579, 4.54071, -16.814)

[editable path="Core"]
[editable path="Core/CoreModel"]
[editable path="Structure"]
[editable path="Props"]
[editable path="Lights"]
[editable path="Lights/LightsModel"]
